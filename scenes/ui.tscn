[gd_scene load_steps=38 format=3 uid="uid://dt6gvl36cu631"]

[ext_resource type="Texture2D" uid="uid://bek0l78t3ob5s" path="res://assets/textures/UI/HUD.png" id="1_8k7j3"]
[ext_resource type="Script" uid="uid://085mm1x0a0jw" path="res://scripts/ui/card_count.gd" id="1_nt7q6"]
[ext_resource type="PackedScene" uid="uid://715os2dhpmfu" path="res://scenes/SettingsPanel.tscn" id="2_jkdwc"]
[ext_resource type="Script" uid="uid://dgkhpjluyh7eg" path="res://scripts/ui/discardButton.gd" id="3_cof4p"]
[ext_resource type="FontFile" uid="uid://b35j13yoyf032" path="res://assets/fonts/outshine.ttf" id="4_jkdwc"]
[ext_resource type="Script" uid="uid://cjikkkf2q88rg" path="res://scripts/level_count.gd" id="5_rlppe"]
[ext_resource type="Script" uid="uid://cu5h7en1drttd" path="res://scenes/Card-On-MouseLeave.gd" id="7_7dvkv"]
[ext_resource type="Script" uid="uid://ck53n17g25qsk" path="res://scenes/CurrentCard_Manager.gd" id="7_cof4p"]
[ext_resource type="Script" uid="uid://dxklkq5nqgu1h" path="res://scripts/progress_manager.gd" id="10_cof4p"]
[ext_resource type="Texture2D" uid="uid://00uwn1kkg2p3" path="res://assets/textures/UI/newProgressUnder.png" id="10_rlppe"]
[ext_resource type="Texture2D" uid="uid://duplir55kx0ww" path="res://assets/textures/UI/Progress_Complete.png" id="12_ycmcx"]
[ext_resource type="Texture2D" uid="uid://cwjc5gk5pgwr4" path="res://assets/textures/UI/GameEndBackdropNoDither-Sheet.png" id="13_cof4p"]
[ext_resource type="FontFile" uid="uid://cwcpcjl2b0ejw" path="res://assets/fonts/Born3bSporty.ttf" id="13_f7tlh"]
[ext_resource type="Texture2D" uid="uid://eaod8sp01h7" path="res://assets/textures/UI/GameOver.png" id="13_h1mc3"]
[ext_resource type="Texture2D" uid="uid://xvf2vva5c5c8" path="res://assets/textures/UI/GameWin.png" id="14_cof4p"]
[ext_resource type="Texture2D" uid="uid://rwtxwc48vgt4" path="res://assets/textures/UI/GameEndBackdropNoStar-Sheet.png" id="15_cof4p"]
[ext_resource type="Script" uid="uid://ciy6n0k311m0x" path="res://scripts/ui/game_end_screen.gd" id="16_cof4p"]
[ext_resource type="PackedScene" uid="uid://it4xbalhx1n2" path="res://scenes/scroll.tscn" id="17_f7tlh"]
[ext_resource type="Script" uid="uid://285hy56rt4m8" path="res://scripts/gameRestart.gd" id="19_jkdwc"]
[ext_resource type="PackedScene" uid="uid://cnyorwollarn7" path="res://scenes/card_choice_window.tscn" id="22_kupmu"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_0tsab"]
bg_color = Color(1, 1, 1, 0)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_sesyt"]
bg_color = Color(1, 1, 1, 0.0980392)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_41akx"]
bg_color = Color(1, 1, 1, 0.196078)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_gglip"]
bg_color = Color(1, 1, 1, 0)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_rlppe"]
texture = ExtResource("10_rlppe")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_kupmu"]
texture = ExtResource("12_ycmcx")

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_qsv74"]

[sub_resource type="LabelSettings" id="LabelSettings_cof4p"]
font_size = 64

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rleeb"]
bg_color = Color(1, 1, 1, 0)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_kupmu"]
bg_color = Color(1, 1, 1, 0.0980392)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_i5tog"]
bg_color = Color(1, 1, 1, 0.196078)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_catpy"]
bg_color = Color(1, 1, 1, 0)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="Theme" id="Theme_h1mc3"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_wquew"]
bg_color = Color(1, 1, 1, 0)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ycmcx"]
bg_color = Color(1, 1, 1, 0.0980392)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_wu1et"]
bg_color = Color(1, 1, 1, 0.196078)
draw_center = false
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rlppe"]
bg_color = Color(1, 1, 1, 0)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[node name="UI" type="CanvasLayer"]
follow_viewport_enabled = true

[node name="HUD" type="TextureRect" parent="."]
anchors_preset = -1
anchor_right = 1.001
anchor_bottom = 1.003
texture = ExtResource("1_8k7j3")

[node name="Button_Discard" type="Button" parent="."]
z_index = 70
texture_filter = 1
custom_minimum_size = Vector2(150, 50)
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 25.0
offset_top = -123.0
offset_right = 275.0
offset_bottom = -23.0
grow_vertical = 0
theme_override_fonts/font = ExtResource("13_f7tlh")
theme_override_font_sizes/font_size = 64
theme_override_styles/focus = SubResource("StyleBoxFlat_0tsab")
theme_override_styles/hover = SubResource("StyleBoxFlat_sesyt")
theme_override_styles/pressed = SubResource("StyleBoxFlat_41akx")
theme_override_styles/normal = SubResource("StyleBoxFlat_gglip")
text = "Discard"
script = ExtResource("3_cof4p")

[node name="level_count" type="Label" parent="."]
z_index = 5
custom_minimum_size = Vector2(120, 0)
offset_left = 12.0
offset_top = 14.0
offset_right = 176.0
offset_bottom = 89.0
pivot_offset = Vector2(60, 30)
theme_override_fonts/font = ExtResource("4_jkdwc")
theme_override_font_sizes/font_size = 64
text = "Stage: 1/5"
horizontal_alignment = 1
script = ExtResource("5_rlppe")

[node name="PanelDown" type="Sprite2D" parent="."]
z_index = 40
position = Vector2(579, 596.5)
scale = Vector2(0.482422, 0.151562)

[node name="HBoxContainer" type="HBoxContainer" parent="."]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -356.0
offset_top = -72.0
offset_right = -16.0
offset_bottom = -16.0
grow_horizontal = 0
grow_vertical = 0

[node name="text" type="Label" parent="HBoxContainer"]
z_index = 10
layout_mode = 2
theme_override_fonts/font = ExtResource("4_jkdwc")
theme_override_font_sizes/font_size = 64
text = "Cards Left: "

[node name="CardCount" type="Label" parent="HBoxContainer"]
z_index = 10
layout_mode = 2
theme_override_fonts/font = ExtResource("4_jkdwc")
theme_override_font_sizes/font_size = 64
text = "99"
script = ExtResource("1_nt7q6")

[node name="Current-Card" type="Control" parent="."]
z_index = 60
layout_mode = 3
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 0
script = ExtResource("7_cof4p")

[node name="CardHolder" type="Control" parent="Current-Card"]
z_index = 60
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -120.0
offset_top = -100.0
offset_right = 120.0
offset_bottom = 279.0
grow_horizontal = 2
grow_vertical = 0
scale = Vector2(0.5, 0.5)
script = ExtResource("7_7dvkv")
yPlus = 200

[node name="Progress" type="Node" parent="."]
script = ExtResource("10_cof4p")

[node name="TotalLifeEnergy" type="Label" parent="Progress"]
z_index = 5
custom_minimum_size = Vector2(120, 0)
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -60.0
offset_top = 36.335
offset_right = 60.0
offset_bottom = 111.335
grow_horizontal = 2
pivot_offset = Vector2(60, 30)
theme_override_fonts/font = ExtResource("4_jkdwc")
theme_override_font_sizes/font_size = 64
text = "00000"
horizontal_alignment = 1

[node name="life_energy_bar" type="ProgressBar" parent="Progress"]
z_index = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.011
anchor_right = 0.5
anchor_bottom = 0.011
offset_left = -594.0
offset_top = -0.128001
offset_right = 669.0
offset_bottom = 27.872
grow_horizontal = 0
scale = Vector2(0.35, 1)
pivot_offset = Vector2(576, 0)
mouse_filter = 2
theme_override_styles/background = SubResource("StyleBoxTexture_rlppe")
theme_override_styles/fill = SubResource("StyleBoxTexture_kupmu")
max_value = 1000.0
value = 500.0
show_percentage = false

[node name="Timer" type="Timer" parent="Progress"]
one_shot = true

[node name="CardCarousel" parent="." instance=ExtResource("17_f7tlh")]
visible = false

[node name="SettingsPanel" parent="." instance=ExtResource("2_jkdwc")]
visible = false
z_index = 90
mouse_filter = 2

[node name="GameEndScreen" type="Panel" parent="."]
visible = false
z_index = 200
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxEmpty_qsv74")
script = ExtResource("16_cof4p")

[node name="MainLabel" type="Label" parent="GameEndScreen"]
z_index = 205
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.209
anchor_right = 0.5
anchor_bottom = 0.209
offset_left = -546.0
offset_top = -74.432
offset_right = 546.0
offset_bottom = 74.568
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("13_f7tlh")
text = "No Humans were born, the world stayed silent"
label_settings = SubResource("LabelSettings_cof4p")
horizontal_alignment = 1
autowrap_mode = 3

[node name="GameWinBackdrop" type="TextureRect" parent="GameEndScreen"]
visible = false
self_modulate = Color(0.574271, 0.879769, 0.766053, 1)
z_index = 200
texture_filter = 1
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 0.544
offset_right = -0.0880127
offset_bottom = -0.112
texture = ExtResource("13_cof4p")
expand_mode = 2

[node name="GameWin" type="TextureRect" parent="GameEndScreen/GameWinBackdrop"]
z_index = 205
texture_filter = 1
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.645
anchor_right = 0.5
anchor_bottom = 0.645
offset_left = -161.5
offset_top = -198.38
offset_right = -97.5
offset_bottom = -134.38
scale = Vector2(5, 5)
texture = ExtResource("14_cof4p")

[node name="Button" type="Button" parent="GameEndScreen/GameWinBackdrop"]
z_index = 200
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -150.684
offset_top = -97.888
offset_right = 149.316
offset_bottom = -17.888
grow_horizontal = 2
grow_vertical = 0
theme_override_fonts/font = ExtResource("13_f7tlh")
theme_override_font_sizes/font_size = 40
theme_override_styles/focus = SubResource("StyleBoxFlat_rleeb")
theme_override_styles/hover = SubResource("StyleBoxFlat_kupmu")
theme_override_styles/pressed = SubResource("StyleBoxFlat_i5tog")
theme_override_styles/normal = SubResource("StyleBoxFlat_catpy")
text = "Restart Game"
script = ExtResource("19_jkdwc")

[node name="GameOverBackdrop" type="TextureRect" parent="GameEndScreen"]
self_modulate = Color(0.354525, 0.359313, 0.328108, 1)
z_index = 200
texture_filter = 1
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 0.544
offset_right = -0.0880127
offset_bottom = -4.0
texture = ExtResource("15_cof4p")

[node name="GameOver" type="TextureRect" parent="GameEndScreen/GameOverBackdrop"]
modulate = Color(1, 1, 1, 0.988235)
z_index = 200
texture_filter = 1
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.645
anchor_right = 0.5
anchor_bottom = 0.645
offset_left = -161.5
offset_top = -198.38
offset_right = -97.5
offset_bottom = -134.38
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(5, 5)
theme = SubResource("Theme_h1mc3")
texture = ExtResource("13_h1mc3")

[node name="Button" type="Button" parent="GameEndScreen/GameOverBackdrop"]
z_index = 200
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -150.684
offset_top = -94.0
offset_right = 149.316
offset_bottom = -14.0
grow_horizontal = 2
grow_vertical = 0
theme_override_fonts/font = ExtResource("13_f7tlh")
theme_override_font_sizes/font_size = 40
theme_override_styles/focus = SubResource("StyleBoxFlat_wquew")
theme_override_styles/hover = SubResource("StyleBoxFlat_ycmcx")
theme_override_styles/pressed = SubResource("StyleBoxFlat_wu1et")
theme_override_styles/normal = SubResource("StyleBoxFlat_rlppe")
text = "Restart Game"
script = ExtResource("19_jkdwc")

[node name="card_choice_window" parent="." instance=ExtResource("22_kupmu")]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 61.0
offset_top = 155.0
offset_right = 390.0
offset_bottom = 287.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.5, 0.5)

[connection signal="mouse_entered" from="Button_Discard" to="Button_Discard" method="_on_mouse_entered"]
[connection signal="pressed" from="Button_Discard" to="Button_Discard" method="onPress"]
[connection signal="mouse_entered" from="Current-Card/CardHolder" to="Current-Card/CardHolder" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="Current-Card/CardHolder" to="Current-Card/CardHolder" method="_on_control_mouse_exited"]
[connection signal="timeout" from="Progress/Timer" to="Progress" method="_on_timer_timeout"]
[connection signal="pressed" from="GameEndScreen/GameWinBackdrop/Button" to="GameEndScreen/GameWinBackdrop/Button" method="_on_pressed"]
[connection signal="pressed" from="GameEndScreen/GameOverBackdrop/Button" to="GameEndScreen/GameOverBackdrop/Button" method="_on_pressed"]
